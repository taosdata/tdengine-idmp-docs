# 连接管理

:::note
连接分为 TDengine 与 AI 两种类型，TDengine 连接用于业务数据管理、AI 连接用于智能问答与问题推荐。
:::

在管理后台的左侧树状结构页面，点击`连接`，即可看到连接列表。

1. 在连接列表页，点击 +，就可以创建一个新的连接。
2. 连接创建后，您可以编辑、禁用/启用、删除。今后还会提供与连接相关的可观测指标，便于定位问题。
3. 在左侧树状结构页面，鼠标悬停在每个连接名称上，右侧会显示三个点，点击后显示相应连接的快捷操作按钮。

## TDengine 连接

TDengine 连接用于业务数据管理，创建连接后您可以将其中的数据导入到 IDMP 平台进行管理。它提供两种认证方式，用户名/密码或令牌。表单中的 Explorer 地址字段，请填写当前 TDengine 连接对应的的 Explorer 地址，它通常是 `http://[host]:6060`。

## AI 连接

AI 连接用于智能问答与问题推荐，IDMP 已经内置了一个试用期为 3 天的连接，请在到期日之前修改密钥或添加其他可用连接，以免影响 AI 相关功能的使用。

在编辑连接的表单中，当选择类型为`AI`时，可以参考以下内容进行填写：
1. 模型列表：下拉框中列举了几组常用的模型名称，您可以选择其中一项或直接输入。输入时请注意，建议输入由英文逗号分割的两个模型名称，前一个用于普通问答、后一个用于深度思考，如果只填写一个，则智能问答中的深度思考将没有额外作用，如果填写多个，则只取前两个，后面的丢弃。
2. 地址：下拉框中列举了几个常用的服务地址，您可以选择其中一项或直接输入。选择时请注意，所选地址是否与已填写的模型兼容；输入时请注意，地址请遵守 OpenAI 接口规则。
3. 认证类型：默认使用`密钥`认证，但本地部署的 AI 服务通常不需要密钥，则可以选择`无`。

如果模型列表没有使用列表中的项，或者地址没有使用列表中的项，或者模型列表与地址没有使用推荐的对应关系，则配置可能出错，请使用下面这段 Python 代码进行验证，或使用其他类似代码验证：

```python
from openai import OpenAI

if __name__ == "__main__":
  """
  测试大模型接口
  
  base_url：服务地址
  api_key：密钥
  model：模型名称
  """
  openai_client = OpenAI(
      base_url="[地址]",
      api_key="[密钥]",
  )
  messages = [
    {"role": "system", "content": "系统提示语"},
    {"role": "user", "content": "用户提示语"}
  ]
  response = openai_client.chat.completions.create(
      model="[模型名称]",
      messages=messages,
      temperature=0,
      stream=False,
      timeout=300,
  )
  content = response.choices[0].message.content
  print(content)
```